@model CLDV6212POE.ViewModel.DocumentIndexViewModel

<div class="document">
    <div class="document-container">
        <div class="content-wrapper">
            <h2>Contracts</h2>

            <form asp-action="Index" method="post" enctype="multipart/form-data">
                <input asp-for="UploadModel.File" type="file"/>
                <span asp-validation-for="UploadModel.File" class="text-danger"></span>
                <button type="submit">Upload</button>
            </form>

            @if (!string.IsNullOrEmpty(Model.UploadModel.Message))
            {
                <div style="color:@(Model.UploadModel.Message.Contains("success") ? "green" : "red")">
                    @Model.UploadModel.Message
                </div>
            }

            <h3>Available Contracts</h3>
            <ul>
                @foreach (var file in Model.Files)
                {
                    <li style="display: flex; align-items: center; gap: 10px;">
                        <span>@file</span>

                        <div style="display: flex; gap: 10px;">
                            <a href="#"
                               onclick="event.preventDefault(); if(confirm('Are you sure you want to delete this file?')) { document.getElementById('delete-@file').submit(); }">
                                Delete
                            </a>
                            <form id="delete-@file" asp-action="Delete" method="post" asp-route-fileName="@file" style="display:none;"></form>

                            <a asp-action="Download" asp-route-fileName="@file">Download</a>

                        </div>
                    </li>
                }
            </ul>
        </div>
    </div>
</div>