@model List<CLDV6212POE.ViewModel.CustomerViewModel>

@{
    ViewData["Title"] = "Customer Profiles";
}


<div class="order">
    <div class="order-container">
        <div class="container py-5">

            <h2 class="order-amount-title">All Customers (@Model.Count) <a asp-controller="Customer" asp-action="ViewCustomerQueue" class="customer-queue-title">Customer Queue</a></h2>

            <table class="table-container table table-hover align-middle">
                <thead style="background-color:#70aa93; color:white;">
                <tr>
                    <th>Full Name</th>
                    <th>Email</th>
                    <th>User ID</th>
                    <th class="text-center">Actions</th>

                </tr>
                </thead>
                <tbody>
                @if (Model != null && Model.Any())
                {
                    @foreach (var customer in Model)
                    {
                        <tr>
                            <td>@customer.Fullname</td>
                            <td>@customer.Email</td>
                            <td>@customer.UserId
                            <td>
                                <a asp-controller="Customer"
                                   asp-action="Delete"
                                   asp-route-customerPartitionKey="@customer.UserId"
                                   class="btn btn-danger btn-sm"
                                   onclick="return confirm('Are you sure you want to delete this customer?');">
                                    Delete
                                </a>

                            </td>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="6" class="text-center text-muted py-4">
                            No Customers exist
                        </td>
                    </tr>
                }

                </tbody>
            </table>
        </div>
    </div>
</div>